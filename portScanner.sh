#!/bin/bash
# Script para enumerar puertos en hosts

# Definimos un array de hosts a los que vamos a enumerar los puertos, no colocar los que son propios de la máquina actual "hostname -I"

hosts=("172.10.0.1" "172.10.0.2" "172.11.0.1" "172.11.0.5")

for host in ${hosts[@]}; do
	echo -e "\n[+] Escaneando puertos en $host"
	for port in $(seq 1 10000); do # verificar esto, porque va hasta el 10000 pero pueden haber más
		timeout 1 bash -c "echo '' > /dev/tcp/$host/$port" 2>/dev/null && echo "[*] Puerto $port - Activo" &
	done; wait # esperamos por la terminación de las 10000 hilos y luego avanzar con el siguiente host
done


# En caso de no contar con herramientas como netcat, wget u otras para transferencia de ficheros hacer lo siguiente
# ---- local ----
# base64 -w 0 portScanner.sh | xclip -sel clip
# ahí ya lo tendríamos en nuestra clipboard gracias a xclip "apt-get install xclip"
# ---- víctima ----
# echo "todo lo que va por la clipboard en b64" | base64 -d > portScanner.sh
# chmod +x
# ./portScanner.sh


# ~ Créditos a s4vitar ~
